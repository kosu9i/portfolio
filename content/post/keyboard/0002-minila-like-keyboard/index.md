---
# Documentation: https://sourcethemes.com/academic/docs/managing-content/

title: "パーツ寄せ集めで始めた自作キーボード（初心者）"
subtitle: ""
summary: ""
authors: []
tags: []
categories: []
date: 2020-12-13T01:48:50+09:00
lastmod: 2020-12-13T01:48:50+09:00
featured: false
draft: false

# Featured image
# To use, add an image named `featured.jpg/png` to your page's folder.
# Focal points: Smart, Center, TopLeft, Top, TopRight, Left, Right, BottomLeft, Bottom, BottomRight.
image:
  caption: ""
  focal_point: ""
  preview_only: false

# Projects (optional).
#   Associate this post with one or more of your projects.
#   Simply enter your project's folder or file name without extension.
#   E.g. `projects = ["internal-project"]` references `content/project/deep-learning/index.md`.
#   Otherwise, set `projects = []`.
projects: []
---

この投稿は[キーボード #2 Advent Calendar 2020](https://adventar.org/calendars/5307)の13日目になります。

自分が今年の初めくらいに、人生初の自作キーボードを作った記録です。  
自キのレベル的には完全に初心者でして、この強強なメンツに囲まれるAdvent Calendarに投稿することに決めたのを激しく後悔していますが、勇気を出して書いてみたいと思います。  
内容的にも初歩的なものばかりになりますが、ご了承ください...


# この投稿について

私は初めての自作キーボードを、 **各種パーツ（PCBなど）を寄せ集めて作る** ことにしました。

このAdvent Calendarを読んでる人にとっては説明不要と思いますが、自作キーボードを作るには大きく分けて

* 自作キーボードのキットを買って組み立てる
* 自分で設計して作成する

があると思います。後者が圧倒的に大変 + スキルを要するので、最初はまず前者から入るのが一般的かと思います。

キットの例としては以下のようなもの（画像はMint60というキーボード。[ゆかりキーボードファクトリー](https://eucalyn.shop/kits/mint60-basic/)さんのサイトから拝借）

{{< figure src="mint60.jpg" title="Mint60基本セット" numbered="true" lightbox="true" >}}

自分の場合は、外観はMINILA Airと同じものを作りたかった（詳細は後述）のですが、もちろんそんなキットは売っていなかったです。  
かと言って、現時点でイチから設計するスキルなんて到底ない...  
そこで個別のパーツを寄せ集めて作ることができないか、色々探してみました。  

基本的に自分語りですが、もし似たようなことをしようとしている方がいれば少しでも参考になれば幸甚です。


# なんで作ったか

そもそも自分が自作キーボードを作ろうと思った経緯について。

* RealForce, HHKBあたりは前から使ったことがあった。
  * 静電容量無接点方式のコトコト、スコスコ感が大好き。
  * 概ね満足してたけど「ここのキー配置がもっとこうだったら良いのに...」みたいな、ちょっとした不満は抱えていた。
* 社内チャットルームで「自作キーボード」なる世界があると教えてもらった。
  * 「なんかやばそうな世界だ」「はまったら戻れなさそう」と感じ、この時点では静観。
* しばらくして、同じく社内チャットで教えてもらった遊舎工房になんとなく行ってみた。
  * めちゃくちゃ楽しかった。
  * 自作キーボードは分割じゃないとダメなんじゃないかと思ってたけど、そうではなかった。（店員さんが「一体型いいですよねー」と言ってくれて勇気出た）
  * 店員さんがオタッキーで親切。（勝手に怖いイメージを持っていたけど、めちゃくちゃ優しい）

上記を経て、まずは60%の普通のキーボードを作ってみようかなと思い始めた。


# 構想

どんなキーボードが良さそうか、ぼんやり考えてみた。

* ノートPC標準のキーボードとの使い心地があまり乖離しないようにしたかった。
  - 会社で支給されているのはMacBook ProのJIS配列。
* 左右分割型など、元の世界（？）に戻ってこれなさそうな配列じゃないやつが良い。
* Mac JIS配列のスペースキー横にあるIME切り替えキーが好き。
* US配列への憧れはずっとあった（Enterキーが近いとか）けど、JIS ⇔ USの切り替えすら怖い。
* テンキーとかはいらない。60%くらいのコンパクトさがいい。

上記の観点で既製品を色々探してみると[FILCOのMajestouch MINILA Air](https://www.diatec.co.jp/products/det.php?prod_c=1321)がかなり近い。  
のだが、親指Fnだけが好みに合わなかった...この親指FnをLANG1, LANG2キーにマッピングさえできれば、これ買っちゃえばいいレベル。  

{{< figure src="minila.jpg" title="MINILA Air" numbered="true" lightbox="true" >}}

ということで、ほぼ↑のMINILA Airの親指Fnをマッピングするためだけに、自作することを決意。  
（MINILA Airでも親指Fnのキーマッピングを変えられるという事実がもしあれば、こっそり教えてください...）


# 寄せ集めたもの

キーボードのパーツを国内で揃えているところは少ない。  
「MINILA Air互換のパーツなんて探せばすぐ見つかるだろー」と思っていたが、なかなか見つからず...  

普通の60%のものはすぐに見つかるが、MINILA Airのキー配置となると全然なかった。  
[遊舎工房でも60%のPCBは売っている](https://yushakobo.jp/shop/dz60-rev-3-0-type-c/)が、MINILA Airのキー配置には対応していない...

パーツの購入では[KBDFans](https://kbdfans.com/)が有名だけどそれでもお目当てのものが見つからなかったので、自分は[Ali Express](https://aliexpress.com/)でほとんど購入した。

## PCB（基盤）

{{< figure src="pcb.png" title="MINILA Air互換のPCB" numbered="true" lightbox="true" >}}

Ali Expressでやっと[Minila Air互換のPCB](https://ja.aliexpress.com/item/32799437588.html)が見つかった。

* ダイオードやProMicroはすでに実装されている。
* 買ってから気づいたが、若干LEDが光る。
* USB Type-C接続
* ファームウェアの書き換えはQMKで行うタイプ。
  - 他のファームウェア書き換えツールは情報が少なく、できればQMK対応のものを選びたかった。

これを購入。

この手のPCBはいろんなパターンのキー配置に対応しているものが多く、MINILA Airのキー配置に対応しているのは自分が探した限りこれだけだったのでめちゃ嬉しかった。

{{< figure src="minila_keymap.jpg" title="最下段がMINILA Airのキー配置に対応" numbered="true" lightbox="true" >}}


## キーキャップ

当然だがMinila Airのキーキャップがそのまま使えるため、これは既製品で結構種類がある。  
[Amazon USに安くて洒落たのがあった](https://www.amazon.com/gp/product/B0796QSKDL/ref=ppx_yo_dt_b_asin_title_o01_s00)ので、これを買った。

{{< figure src="keycaps.jpg" title="Amazon USで買ったキーキャップ" numbered="true" lightbox="true" >}}


## ケース

これも一般的な60%キーボード用のものが使えたので、探せば種類は結構あった。  
洒落たのにしようと思って、[木製のケース](https://ja.aliexpress.com/item/32987956855.html)をAli Expressで購入した。パームレスト付き。  
似たものは国内でも購入できるが、Ali Expressの方が安かったのでこちらで購入。

{{< figure src="case.png" title="木製のケース" numbered="true" lightbox="true" >}}


## キースイッチ

好みの打鍵感に近づけるにはとても大事。めっちゃ悩んだ。  

[遊舎工房に試打できるテスター](https://dime.jp/genre/820977/4/)があるので、店舗に行って小一時間悩んだ末、以下を購入。

### 自宅用（音うるさ目、打鍵感重視）
{{< figure src="hako_true.png" title="Input Club Hako" numbered="true" lightbox="true" >}}

- [Input Club Hako](https://yushakobo.jp/shop/input-club-hako-switches/)
- タクタイル
- かなり重め
- 打鍵音が気持ちいい

### 職場用（静音重視）

{{< figure src="gateron.jpg" title="Gateron Ink Silent Black" numbered="true" lightbox="true" >}}

- [Gateron Ink Silent Black](https://yushakobo.jp/shop/gateron-ink-switches/)
- 静音リニア（黒軸）
- 結構重め
- ぬるっとした打鍵感が気持ちいい

遊舎工房はキースイッチを豊富に揃えており、実際に試打もできるのですごく助かった。  
ただし、テスターと自分の作ったキーボードでは同じスイッチでも打鍵感はかなり変わると感じたので、あくまで参考程度。

## プレート

キースイッチを固定するもの。

当初、Minila Air完全互換のプレートが売ってなかったので、近いものを選んでくり抜く（遊舎工房で工具を借用）という作業をした。

これが
{{< figure src="plate1.jpeg" title="プレート加工前" numbered="true" lightbox="true" >}}

これ（遊舎工房のレンタル工房にて借用）により
{{< figure src="plate_cut.jpeg" title="遊舎工房にて借用した工具" numbered="true" lightbox="true" >}}

こうなった（なんか最下段がほとんどくり抜かれてしまったが、意外と普通に使えている）
{{< figure src="plate2.jpeg" title="プレート加工後" numbered="true" lightbox="true" >}}

ほんと、遊舎工房さまさま。


### （余談）Ali Expressの洗礼

Ali Expressは中国のECサイトで、かつ日本語の機械翻訳がめちゃくちゃで一見怪しい（失礼）  
が、大きなサイトだし試すつもりで利用してみた。

いまや「中国のサイトって大丈夫...？」なんて時代遅れな発想ではないか。  
中国の発展はめざましく、日本が追い抜かれている分野なんてのは多く存在する。  
10〜20年前のイメージが頭にこびりついている自分のようなオッサンはこれを機に認識を改めなければなるまい。

そういう気持ちで発注してみた。

新しい体験に胸踊らせながら、ついに届いた最初のパーツ（プレート）が↓である。

{{< figure src="plate_defect.jpeg" title="Ali Expressの洗礼" numbered="true" lightbox="true" >}}

名誉のために言っておくが、これはAli Expressが悪いというより、おそらく配送の途中で起こったものだろうと思う。  
Ali Expressの返金処理（ただし全額は返ってこなかった）もなかなかスムーズだったし、他の商品はすべて問題なく届いた。

まぁAli Expressは価格安いし、たまにはこういうこともある、というのは念頭に入れつつ「安かろう、もしかすると悪かろう」くらいの気持ちで利用するのが良いと思う。


## その他

* [スタビライザー](https://ja.aliexpress.com/item/32864774665.html)
  - これもAli Expressでサイズが合うものを探して購入
* スタビライザーを静音化するためのグリス
  - 安かったのでTAMIYAのミニ四駆用を使った。1年使ったけど特に問題なし。
* 静音化用のO-ring
* キースイッチに塗るルブ（めっちゃ手間暇かかる）
  - 遊舎工房にて店員さんにオススメを聞きつつ購入
  - つけかたは[RECOMPILE KEYSさんの記事](https://keys.recompile.net/docs/keyswitch-best-practice/)がとてもわかり易くおすすめ
* ハンダ
  - 鉛フリーは環境に優しいが、初心者には優しくない。
* 半田ごて
  - 温度調整機能付き。だいたい320℃くらいでやった。
* ハンダ吸い取り線


# 組み立て

ド素人のため、集めたパーツをどういう風に組み上げればいいか分からなかったので、[遊舎工房のレンタルスペース](https://yushakobo.jp/spaceguide/)を借りて店員さんに質問しながら組み上げた。  
ほんと、遊舎工房さまさま。（2回目）

今回のケースでいうと、PCBにダイオード, LED, ProMicroなどすでにはんだ付けされた状態のものを購入したので、基本的にキースイッチをパチパチはめて、端子部分をハンダ付けするだけだった。  

1. スタビライザーをPCBに取り付ける
2. PCBとキースイッチが噛み合う場所を探しつつ、プレートにキースイッチをPCBにパチパチはめていく
3. キースイッチをはんだ付け

という感じ。

1点注意点としては、2の「PCBとキースイッチが噛み合う場所を探す」というところ。  
私のように出来合いのPCBを購入して利用する場合は、PCBが複数パターンのキー配置をサポートしていることもあり、一意には決まらない。

以下は再掲の図だが、このようにPCBが対応しているキー配置が図で提供されていると思うので、どのキー配置が良いかを選んだあと、実際にキースイッチとキーキャップを仮留めしながらPCBにはめ込んでみて問題ないかを確認する必要がある。

{{< figure src="minila_keymap.jpg" title="複数パターンのキー配置に対応しているPCBが多い" numbered="true" lightbox="true" >}}

なので、はんだ付けする前に実際にキースイッチとキーキャップを仮置きして配置を確かめた。

{{< figure src="temp_fix.png" title="仮置きでイチを確認する" numbered="true" lightbox="true" >}}

組み立て自体は、自作キットより難易度がだいぶ低かったように思う。  
それでも自分のような素人には戸惑うことも多く、店員さんのサポートはめちゃくちゃありがたかった。  
ほんと、遊舎工房さまさま。（3回目）

{{< figure src="build.png" title="" numbered="true" lightbox="true" >}}


# できあがったもの

そんなこんなで（端折りすぎ）↓のようなものができた。

{{< figure src="product.jpeg" title="完成品" numbered="true" lightbox="true" >}}

* 上部 白+水色のやつ
  - オフィス用
  - いろいろ静音化している
    - そもそも静音軸 + スタビライザーにグリス塗布 + ルブ + O-ring
  - さわやかカラー
  - キースイッチはGateron 黒軸の静音モデル
    - 試しに買ったタクタイル系もカーソルキーとかに使用したり混在させている
  - 最初赤の静音にしてたけど、打鍵感が気に食わなくて、黒に変更。  
    （自分は重いのが好き）ハンダ全部剥がすのめっちゃ大変。
* 下部 黒+赤色のやつ
  - 自宅用
  - うるさい。けど、めちゃ気持ち良い。
  - 厨ニカラー
  - キースイッチはHako Trueってやつをメインで、小指系を軽めの同シリーズHako Violetに。  
    かなり重いタクタイル。


# 自分なりのこだわりポイント

* オフィス用はとにかく静かにした（人の音は気にならないが、自分の音がやたら気になる）
  - 自作のスタビライザーはシャカシャカとうるさい。グリスが静音にかなり効いた。
* スイッチにルブを塗って打鍵感が向上した（ような気がしているが、手間がかかったバイアスが多分にかかっているかも）
  - タクタイル系にはあまり効かず、リニア系により効果があるように思う。
* キー配列はUSに見せかけて、ほぼJIS。MacのLANG1, LANG2の配置も再現できた。
* Fn1レイヤで右手のホームポジション周辺がテンキーになるようにした。
* 個人の好みに合わせた重めの打鍵感。
* 無刻印キーキャップは、いざキーマップを変えたときに違和感が生じない（刻印されているとそれと異なるキーマップにすると違和感）というメリットがあっていい。  
  - 個人的には無刻印への憧れもあったので嬉しい。

概ね満足。個人的に92点くらい。  
ただ残りの8点を埋めにいくのが、沼にハマるということなのかもしれない。

# 全体の所感

* パーツを寄せ集めて組み合わせる場合、意外と細かい仕様が合わなくて大変。場合によっては強引に改造しないといけない。
  - 今回のケースだとプレートをくり抜いたり、微妙にキースイッチが噛み合わなかったのでスイッチの足を切ったり。
* Ali Expressは安かろう悪かろうくらいの期待値でいくといい。
  - ゴミ袋みたいな粗雑な包装で届く。
  - 無料配送だとパーツが届くのに早くて10日〜2週間くらいかかる。数日で届けてもらうためには1商品¥1,000くらい払う必要あり。
  - 前述の通り、ときには不良品もあるかもしれない。返品は返送料がかかるので、基本的に一部を返金してもらう交渉をチャットで行う。  
    いざというときのエビデンスとして梱包を開く前に、写真を撮っておくと良い。（梱包時の状態を写真で求められる）
* できればファームウェア書き換えにQMK対応しているPCBを選ぶのが良いと思う。サンプルも豊富。
* やっぱり既製品の完成度・コスパは非常に高い。  
  - 今回、1つキーボードを作るのに2万くらいはかかった（キースイッチが高めだったこともあるが）
  - MINILA Airは1万くらいで買えたことを考えると、やはり既製品はとてもコスパが良い...！  
    それでも自分のこだわりを好きなだけ詰め込める自作、やる価値は十二分にある！
